<!DOCTYPE html>

<html lang="en">
<head>
<title>Architecture Documentation</title>
<link href="css/jazzy.css" rel="stylesheet" type="text/css"/>
<link href="css/highlight.css" rel="stylesheet" type="text/css"/>
<meta charset="utf-8"/>
<script defer="" src="js/jquery.min.js"></script>
<script defer="" src="js/jazzy.js"></script>
<script defer="" src="js/lunr.min.js"></script>
<script defer="" src="js/typeahead.jquery.js"></script>
<script defer="" src="js/jazzy.search.js"></script>
</head>
<body>
<a title="Architecture Documentation"></a>
<header class="header">
<p class="header-col header-col--primary">
<a class="header-link" href="index.html">
           Docs
        </a>
         (100% documented)
      </p>
<p class="header-col--secondary">
<form action="search.json" role="search">
<input data-typeahead="" placeholder="Search documentation" type="text"/>
</form>
</p>
<p class="header-col header-col--secondary">
<a class="header-link" href="https://github.com/kvnloo/AudioEngine">
<img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
</p>
</header>
<p class="breadcrumbs">
<a class="breadcrumb" href="index.html"> Reference</a>
<img class="carat" src="img/carat.png"/>
      Architecture Documentation
    </p>
<div class="content-wrapper">
<nav class="navigation">
<ul class="nav-groups">
<li class="nav-group-name">
<a class="nav-group-name-link" href="Classes.html">Classes</a>
<ul class="nav-group-tasks"><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/APIManager.html">APIManager</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/AppDelegate.html">AppDelegate</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/Audio.html">Audio</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/CustomUITextField.html">CustomUITextField</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/EqualizerTabBarController.html">EqualizerTabBarController</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/EqualizerTableViewCell.html">EqualizerTableViewCell</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/EqualizerViewController.html">EqualizerViewController</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/GeneralUIButton.html">GeneralUIButton</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/GeneralUILabel.html">GeneralUILabel</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/GeneralUITableView.html">GeneralUITableView</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/GeneralUITableViewCell.html">GeneralUITableViewCell</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/GeneralUITextField.html">GeneralUITextField</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/GeneralUIViewController.html">GeneralUIViewController</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/InitialViewController.html">InitialViewController</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/LoginViewController.html">LoginViewController</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/NoiseMeterViewController.html">NoiseMeterViewController</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/RecordedAudioObject.html">RecordedAudioObject</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/RecorderViewController.html">RecorderViewController</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/SignUpTableViewCell.html">SignUpTableViewCell</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/SignUpViewController.html">SignUpViewController</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Classes/User.html">User</a></li></ul>
</li>
<li class="nav-group-name">
<a class="nav-group-name-link" href="Extensions.html">Extensions</a>
<ul class="nav-group-tasks"><li class="nav-group-task"><a class="nav-group-task-link" href="Extensions/Array.html">Array</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Extensions/UIColor.html">UIColor</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Extensions/UIFont.html">UIFont</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="Extensions/UINavigationBar.html">UINavigationBar</a></li></ul>
</li>
<li class="nav-group-name"><a class="nav-group-name-link" href="TechnicalDocumentation.html">Technical Documentation</a><ul class="nav-group-tasks"><li class="nav-group-task"><a class="nav-group-task-link" href="Architecture.html">Architecture</a></li><li class="nav-group-task"><a class="nav-group-task-link" href="TechnologyStack.html">Technology Stack</a></li></ul></li></ul>
</nav>
<article class="main-content">
<section class="section">
<div class="section-content"><h1 id="phaseiwireframe-architecture-documentation">PhaseIWireframe Architecture Documentation</h1><h2 id="table-of-contents">Table of Contents</h2><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#system-architecture">System Architecture</a></li>
<li><a href="#core-components">Core Components</a></li>
<li><a href="#design-patterns">Design Patterns</a></li>
<li><a href="#data-flow">Data Flow</a></li>
<li><a href="#authentication-flow">Authentication Flow</a></li>
<li><a href="#audio-processing-architecture">Audio Processing Architecture</a></li>
<li><a href="#ui-component-system">UI Component System</a></li>
<li><a href="#technology-stack">Technology Stack</a></li>
<li><a href="#file-organization">File Organization</a></li>
</ul><h2 id="overview">Overview</h2><p>PhaseIWireframe is an iOS application built with Swift 3.0+ that provides two primary features:
1. <strong>Real-time Noise Meter</strong> - Displays ambient noise levels in decibels
2. <strong>14-Band Dual-Channel Audio Equalizer</strong> - Processes and equalizes audio in real-time</p><p>The application follows the <strong>Model-View-Controller (MVC)</strong> architectural pattern with additional singleton managers for cross-cutting concerns.</p><h2 id="system-architecture">System Architecture</h2><pre class="codehilite"><code>+──────────────────────────────────────────────────────────────+
│                      Presentation Layer                      │
│  +──────────────+  +──────────────+  +──────────────+        │
│  │ View         │  │ View         │  │ View         │        │
│  │ Controllers  │  │ Controllers  │  │ Controllers  │        │
│  │ (Auth)       │  │ (Equalizer)  │  │ (Noise Meter)│        │
│  +──────+───────┘  +───────+──────+  +────────+─────+        │
│         │                  │                  │              │
+─────────+──────────────────+──────────────────+──────────────+
          │                  │                  │
+─────────+──────────────────+──────────────────+──────────────+
│         │         Business Logic Layer        │              │
│  +──────▼───────+  +───────▼──────+  +────────▼─────+        │
│  │ APIManager   │  │ Audio        │  │ Data Models  │        │
│  │ (Singleton)  │  │ (Singleton)  │  │ (User, etc.) │        │
│  +──────+───────┘  +───────+──────+  +──────────────+        │
+─────────+──────────────────+─────────────────────────────────+
          │                  │
+─────────+──────────────────+─────────────────────────────────+
│         │         Services &amp; Frameworks Layer                │
│  +──────▼───────+  +───────▼──────+  +──────────────+        │
│  │ Firebase     │  │ AVFoundation │  │ Core Audio   │        │
│  │ - Auth       │  │ - Recording  │  │ - Processing │        │
│  │ - Database   │  │ - Playback   │  │              │        │
│  +──────────────+  +──────────────+  +──────────────+        │
│                                                              │
│  +──────────────+  +──────────────+                          │
│  │ Facebook SDK │  │ Google       │                          │
│  │              │  │ Sign-In SDK  │                          │
│  +──────────────+  +──────────────+                          │
+──────────────────────────────────────────────────────────────+
</code></pre><h2 id="core-components">Core Components</h2><h3 id="1-application-entry-point">1. Application Entry Point</h3><ul>
<li><strong>AppDelegate.swift</strong> - Application lifecycle management</li>
<li>Firebase configuration</li>
<li>Google Sign-In setup</li>
<li>Facebook SDK initialization</li>
<li>Navigation bar appearance configuration</li>
<li>Root view controller switching</li>
</ul><h3 id="2-singleton-managers">2. Singleton Managers</h3><h4 id="apimanager-authentication-data">APIManager (Authentication &amp; Data)</h4><p><strong>Purpose</strong>: Centralized authentication and data persistence manager</p><p><strong>Responsibilities</strong>:
- Email/password authentication via Firebase
- Social login (Facebook, Google) integration
- User session management
- Firebase Realtime Database operations
- Alert presentation for user feedback</p><p><strong>Key Properties</strong>:
- <code>user: User?</code> - Current authenticated user
- <code>ref: DatabaseReference</code> - Firebase database reference
- <code>initialNotification</code> / <code>demoNotification</code> - View transition notifications</p><p><strong>Authentication Methods</strong>:
- <code>createUser()</code> - Create new Firebase account
- <code>loginUser()</code> - Email/password login
- <code>fbSignIn()</code> - Facebook OAuth login
- <code>googleSignIn()</code> - Google OAuth login
- <code>logoutUser()</code> - Sign out and clear session</p><h4 id="audio-audio-processing">Audio (Audio Processing)</h4><p><strong>Purpose</strong>: Audio recording, playback, and equalizer processing singleton</p><p><strong>Responsibilities</strong>:
- AVAudioSession configuration
- Audio recording via AVAudioRecorder
- Audio playback with real-time equalizer processing
- 14-band dual-channel equalization
- Recording file management</p><p><strong>Key Components</strong>:
- Recording setup and delegate handling
- Playback with EQ node graph
- Equalizer parameter management (28 float values: 14 bands × 2 channels)</p><h3 id="3-view-controllers">3. View Controllers</h3><h4 id="authentication-flow">Authentication Flow</h4><ul>
<li><strong>InitialViewController</strong> - Landing page with authentication options</li>
<li><strong>LoginViewController</strong> - Email/password login form</li>
<li><strong>SignUpViewController</strong> - Account creation with social login options</li>
<li>Uses <a href="Classes/SignUpTableViewCell.html"><code>SignUpTableViewCell</code></a> for reusable UI components</li>
<li>TableView-based layout for flexible scrolling</li>
</ul><h4 id="main-features">Main Features</h4><ul>
<li><strong>EqualizerViewController</strong> - 14-band audio equalizer interface</li>
<li>Manages equalizer table view</li>
<li>Handles slider interactions for each band</li>
<li>
<p>Communicates with Audio singleton for processing</p>
</li>
<li>
<p><strong>RecorderViewController</strong> - Audio recording interface</p>
</li>
<li>Record/pause/stop controls</li>
<li>Integrates with Audio singleton</li>
<li>
<p>Transitions to equalizer after successful recording</p>
</li>
<li>
<p><strong>NoiseMeterViewController</strong> - Real-time noise level display</p>
</li>
<li>Shows decibel levels with color-coded ranges</li>
<li>Uses AVAudioRecorder metering</li>
<li>
<p>Converts Apple's power levels to standard decibels</p>
</li>
<li>
<p><strong>EqualizerTabBarController</strong> - Tab navigation between features</p>
</li>
</ul><h4 id="supporting-view-controllers">Supporting View Controllers</h4><ul>
<li><strong>GeneralUIViewController</strong> - Base class for consistent UI styling</li>
<li>Shared navigation bar configuration</li>
<li>Common view lifecycle handling</li>
</ul><h3 id="4-data-models">4. Data Models</h3><h4 id="user">User</h4><p><strong>Purpose</strong>: Represents authenticated user with data persistence</p><p><strong>Properties</strong>:
- Authentication credentials (uid, password, token, email flag)
- <code>data: [Float]</code> - 28-element array storing equalizer settings
  - 14 bands × 2 channels (left/right)
  - Persisted to Firebase for cross-device sync</p><p><strong>Authentication Support</strong>:
- Email/password authentication
- OAuth token-based authentication (Facebook, Google)</p><h4 id="recordedaudioobject">RecordedAudioObject</h4><p><strong>Purpose</strong>: Encapsulates recorded audio file information</p><p><strong>Properties</strong>:
- <code>filePathUrl: URL</code> - Location of recorded audio file
- <code>title: String</code> - Display name for the recording</p><h2 id="design-patterns">Design Patterns</h2><h3 id="1-singleton-pattern">1. Singleton Pattern</h3><p>Used for shared resources and cross-cutting concerns:
- <strong>APIManager</strong>: Single point of authentication and data access
- <strong>Audio</strong>: Centralized audio processing and session management</p><p><strong>Benefits</strong>:
- Prevents multiple audio sessions
- Ensures consistent authentication state
- Simplifies access to shared resources</p><h3 id="2-delegation-pattern">2. Delegation Pattern</h3><p>Standard iOS pattern for event handling:
- <strong>AVAudioRecorderDelegate</strong>: Recording lifecycle events
  - <a href="Classes/RecorderViewController.html"><code>RecorderViewController</code></a> implements for recording completion
  - <a href="Classes/NoiseMeterViewController.html"><code>NoiseMeterViewController</code></a> implements for metering
- <strong>GIDSignInDelegate</strong>: Google Sign-In callbacks
- <strong>TableView Delegates</strong>: Data source and user interaction handling</p><h3 id="3-notification-pattern">3. Notification Pattern</h3><p>Used for loosely-coupled view controller communication:
- <code>initialNotification</code> - Navigate to authentication screen
- <code>demoNotification</code> - Navigate to main app features
- Sent by APIManager, observed by AppDelegate for root VC switching</p><h3 id="4-custom-ui-component-system">4. Custom UI Component System</h3><p>Reusable, styled UI components with consistent theming:
- <a href="Classes/GeneralUIButton.html"><code>GeneralUIButton</code></a> - Styled buttons
- <a href="Classes/GeneralUILabel.html"><code>GeneralUILabel</code></a> - Custom font labels
- <a href="Classes/GeneralUITextField.html"><code>GeneralUITextField</code></a> - Themed text inputs
- <a href="Classes/GeneralUITableView.html"><code>GeneralUITableView</code></a> / <a href="Classes/GeneralUITableViewCell.html"><code>GeneralUITableViewCell</code></a> - Styled tables
- <a href="Classes/GeneralUIViewController.html"><code>GeneralUIViewController</code></a> - Base view controller with shared setup</p><p><strong>Benefits</strong>:
- Consistent visual design across application
- Centralized styling through extensions (UIColor, UIFont)
- Easy theme updates</p><h3 id="5-extension-pattern">5. Extension Pattern</h3><p>Swift extensions for cross-cutting functionality:
- <strong>UIColor Extension</strong>: Application color palette
- <strong>UIFont Extension</strong>: Typography system
- <strong>UINavigationBar Extension</strong>: Custom border styling
- <strong>Array Extension</strong>: Utility functions</p><h2 id="data-flow">Data Flow</h2><h3 id="authentication-data-flow">Authentication Data Flow</h3><pre class="codehilite"><code>User Input (Login/SignUp View)
        │
        ▼
   APIManager
        │
        ├──► Firebase Authentication
        │         │
        │         ▼
        │    Auth Success/Failure
        │         │
        │         ▼
        ├──► Create User Object
        │         │
        │         ▼
        └──► Firebase Database (Save/Load EQ Data)
                  │
                  ▼
             Post Notification
                  │
                  ▼
             AppDelegate
                  │
                  ▼
        Switch Root View Controller
                  │
                  ▼
          Main App Features
</code></pre><h3 id="audio-recording-data-flow">Audio Recording Data Flow</h3><pre class="codehilite"><code>RecorderViewController
        │
        ├──► Start Recording
        │         │
        │         ▼
        │    Audio Singleton
        │         │
        │         ▼
        │    AVAudioRecorder
        │         │
        │         ▼
        │    Record to File
        │         │
        │         ▼
        │    Recording Complete
        │         │
        │         ▼
        └──► Create RecordedAudioObject
                  │
                  ▼
          Segue to Equalizer
                  │
                  ▼
        EqualizerViewController
</code></pre><h3 id="equalizer-data-flow">Equalizer Data Flow</h3><pre class="codehilite"><code>User Adjusts Slider (EqualizerViewController)
        │
        ▼
Update UI Immediately
        │
        ▼
Calculate EQ Values (band frequency, gain)
        │
        ▼
Store in User.data Array (28 floats)
        │
        ▼
Audio Singleton
        │
        ▼
Apply to AVAudioUnitEQ Nodes
        │
        │
        ├──► Left Channel (14 bands)
        │
        └──► Right Channel (14 bands)
                  │
                  ▼
        Real-time Audio Processing
                  │
                  ▼
        Save to Firebase (APIManager)
</code></pre><h2 id="authentication-flow_1">Authentication Flow</h2><h3 id="emailpassword-authentication">Email/Password Authentication</h3><pre class="codehilite"><code>┌──────────────────┐
│ SignUpViewController │
└─────────┬──────────┘
          │
          ▼
    Create User Object
    (email, password)
          │
          ▼
   APIManager.createUser()
          │
          ▼
   Firebase.Auth.createUser()
          │
          ├─── Success ───┐
          │                │
          │                ▼
          │          Store User Data
          │          (Firebase DB)
          │                │
          │                ▼
          │          Post Notification
          │                │
          │                ▼
          │          Switch to Main App
          │
          └─── Failure ───┐
                          │
                          ▼
                    Show Alert
</code></pre><h3 id="social-oauth-flow-facebookgoogle">Social OAuth Flow (Facebook/Google)</h3><pre class="codehilite"><code>User Taps Social Login Button
          │
          ▼
   Launch SDK Auth UI
   (Safari/WebView)
          │
          ▼
   User Authenticates
   with Provider
          │
          ▼
   Receive Access Token
          │
          ▼
   APIManager Delegates
   (fbDidCompleteLogin / googleSignIn)
          │
          ▼
   Create Firebase Credential
   from Token
          │
          ▼
   Firebase.Auth.signIn(credential)
          │
          ├─── Success ───┐
          │                │
          │                ▼
          │          Create User Object
          │                │
          │                ▼
          │          Post Notification
          │                │
          │                ▼
          │          Switch to Main App
          │
          └─── Failure ───┐
                          │
                          ▼
                    Show Alert
</code></pre><h2 id="audio-processing-architecture">Audio Processing Architecture</h2><h3 id="recording-architecture">Recording Architecture</h3><pre class="codehilite"><code>┌─────────────────────────────────────────┐
│        AVAudioSession Setup             │
│  - Category: PlayAndRecord              │
│  - Default to Speaker                   │
│  - Metering Enabled                     │
└──────────────┬──────────────────────────┘
               │
               ▼
┌─────────────────────────────────────────┐
│        AVAudioRecorder                  │
│  - Format: MPEG4AAC                     │
│  - Sample Rate: 44.1kHz                 │
│  - Channels: Stereo (2)                 │
│  - Quality: High                        │
└──────────────┬──────────────────────────┘
               │
               ▼
┌─────────────────────────────────────────┐
│        Audio File Storage               │
│  - Location: Documents Directory        │
│  - Format: .m4a                         │
└──────────────┬──────────────────────────┘
               │
               ▼
┌─────────────────────────────────────────┐
│    RecordedAudioObject Created          │
│  - File URL                             │
│  - Metadata                             │
└─────────────────────────────────────────┘
</code></pre><h3 id="equalizer-processing-architecture">Equalizer Processing Architecture</h3><pre class="codehilite"><code>┌────────────────────────────────────────────┐
│         Recorded Audio File                │
│         (.m4a format)                      │
└──────────────┬─────────────────────────────┘
               │
               ▼
┌────────────────────────────────────────────┐
│         AVAudioEngine                      │
│  - Player Node                             │
│  - EQ Nodes (Left/Right Channels)          │
│  - Output Node                             │
└──────────────┬─────────────────────────────┘
               │
               ▼
┌────────────────────────────────────────────┐
│    14-Band Parametric EQ × 2 Channels      │
│                                            │
│    Left Channel:  14 AVAudioUnitEQFilter   │
│    Right Channel: 14 AVAudioUnitEQFilter   │
│                                            │
│    Each Band:                              │
│    - Center Frequency (Hz)                 │
│    - Gain (-12dB to +12dB)                 │
│    - Bandwidth (Q factor)                  │
│    - Filter Type: Parametric               │
└──────────────┬─────────────────────────────┘
               │
               ▼
┌────────────────────────────────────────────┐
│         Real-time Audio Output             │
│         (Speaker/Headphones)               │
└────────────────────────────────────────────┘

User Interaction:
  Slider Adjustment → Update EQ Parameters → Instant Audio Change
</code></pre><h3 id="noise-meter-architecture">Noise Meter Architecture</h3><pre class="codehilite"><code>┌────────────────────────────────────────────┐
│         AVAudioSession Setup               │
│         (Metering Enabled)                 │
└──────────────┬─────────────────────────────┘
               │
               ▼
┌────────────────────────────────────────────┐
│         AVAudioRecorder                    │
│         (Background Recording)             │
│         - updateMeters() called on Timer   │
│         - averagePower(forChannel: 0)      │
└──────────────┬─────────────────────────────┘
               │
               ▼
┌────────────────────────────────────────────┐
│      Power Level Conversion                │
│      Apple Scale [-160, 0] dB              │
│              ↓                             │
│      Standard Scale [0, 120] dB            │
│      (convertToDecibel function)           │
└──────────────┬─────────────────────────────┘
               │
               ▼
┌────────────────────────────────────────────┐
│      UI Update (Color-Coded Display)       │
│      - Silent:  &lt; 50 dB  (Blue)            │
│      - Quiet:   &lt; 75 dB  (Green)           │
│      - Average: &lt; 90 dB  (Purple)          │
│      - Noisy:   &lt; 100 dB (Orange)          │
│      - Loud:    &lt; 120 dB (Red)             │
└────────────────────────────────────────────┘
</code></pre><h2 id="ui-component-system">UI Component System</h2><h3 id="color-palette-system">Color Palette System</h3><p>Defined in <a href="Extensions/UIColor.html"><code>UIColor</code></a> extension (<code>GeneralUIColor.swift</code>):</p><p><strong>Slate Colors</strong> (Grayscale Foundation):
- <code>WHITE</code> (Isabelline: #edeeef) - Primary text color
- <code>CREME</code> (Silver Chalice: #a8aeaf) - Navigation bar highlights, headings
- <code>CHARCOAL</code> (Outer Space: #414e51) - TextField backgrounds
- <code>BACKGROUND</code> (Gunmetal: #282d34) - View backgrounds
- <code>BLACK</code> (Raisin Black: #1d2025) - Dark text, login button</p><p><strong>Highlight Colors</strong> (Accent Palette):
- <code>RED</code> (Light Red Ochre: #ea6552) - Alerts, loud noise indicator
- <code>GREEN</code> (Very Light Malachite: #58e69a) - Success, quiet noise
- <code>PURPLE</code> (Pale Violet: #d0a5ff) - Average noise level
- <code>BLUE</code> (Maya Blue: #7cc6fe) - Silent noise level
- <code>ORANGE</code> (Macaroni and Cheese: #ffc689) - Noisy level</p><p><strong>Social Media Colors</strong>:
- <code>FB_BLUE</code> (#3b5998) - Facebook button background
- <code>GOOGLE_RED</code> (#dd4b39) - Google button background</p><h3 id="typography-system">Typography System</h3><p>Defined in <a href="Extensions/UIFont.html"><code>UIFont</code></a> extension (<code>GerneralFonts.swift</code>):</p><ul>
<li><code>BUTTON</code> - Roboto-Medium, 15pt (Button text)</li>
<li><code>LABEL</code> - Roboto-Regular, 12pt (Standard labels)</li>
<li><code>TEXTFIELD</code> - Roboto-Bold, 14pt (Input fields)</li>
<li><code>LARGE</code> - Roboto-Bold, 80pt (Large displays - noise meter)</li>
<li><code>CAPTION</code> - Roboto-Regular, 10pt (Small captions)</li>
</ul><h3 id="component-hierarchy">Component Hierarchy</h3><pre class="codehilite"><code>GeneralUIViewController (Base)
    │
    ├─ Applies standard background color
    ├─ Configures navigation bar styling
    └─ Sets up common view lifecycle

GeneralUIButton
    │
    ├─ Custom background colors from palette
    ├─ Roboto-Medium font
    ├─ Rounded corners
    └─ Touch interaction styling

GeneralUILabel
    │
    ├─ Custom text colors from palette
    ├─ Roboto font family
    └─ Consistent sizing

GeneralUITextField (extends CustomUITextField)
    │
    ├─ Left icon support (imageWidth, leftPadding)
    ├─ Charcoal background
    ├─ White text color
    ├─ Roboto-Bold font
    └─ Placeholder styling

GeneralUITableView / GeneralUITableViewCell
    │
    ├─ Background color matching theme
    ├─ Separator styling
    └─ Cell reuse identifiers
</code></pre><h2 id="technology-stack">Technology Stack</h2><h3 id="core-ios-frameworks">Core iOS Frameworks</h3><ul>
<li><strong>UIKit</strong> - User interface components and view management</li>
<li><strong>Foundation</strong> - Core object types and utilities</li>
<li><strong>AVFoundation</strong> - Audio/video capture and playback</li>
<li><strong>CoreAudio</strong> - Low-level audio processing</li>
</ul><h3 id="third-party-dependencies-cocoapods">Third-Party Dependencies (CocoaPods)</h3><h4 id="authentication-backend">Authentication &amp; Backend</h4><ul>
<li><strong>Firebase/Core</strong> (4.0.0) - Backend infrastructure</li>
<li><strong>Firebase/Auth</strong> - User authentication system</li>
<li><strong>Firebase/Database</strong> - Real-time data synchronization</li>
<li><strong>FacebookCore</strong> / <strong>FacebookLogin</strong> / <strong>FBSDKCoreKit</strong> - Facebook OAuth integration</li>
<li><strong>GoogleSignIn</strong> - Google OAuth authentication</li>
</ul><h4 id="development-tools">Development Tools</h4><ul>
<li><strong>Jazzy</strong> - Swift/Objective-C documentation generator</li>
<li>Generates API documentation from inline comments</li>
<li>Deployed to GitHub Pages via GitHub Actions</li>
</ul><h3 id="build-tools">Build Tools</h3><ul>
<li><strong>Xcode</strong> 8.0+</li>
<li><strong>CocoaPods</strong> 1.0.0+</li>
<li><strong>Swift</strong> 3.0+</li>
</ul><h3 id="platform-requirements">Platform Requirements</h3><ul>
<li><strong>iOS</strong> 10.0+</li>
</ul><h2 id="file-organization">File Organization</h2><pre class="codehilite"><code>Phase 1 Wireframe/
├── Application Core
│   ├── AppDelegate.swift           # App lifecycle, Firebase setup
│   └── Info.plist                  # App configuration
│
├── Managers (Singletons)
│   ├── APIManager.swift            # Authentication &amp; data persistence
│   └── AudioSingletons.swift       # Audio processing (Audio class)
│
├── View Controllers
│   ├── Authentication
│   │   ├── InitialViewController.swift
│   │   ├── LoginViewController.swift
│   │   └── SignUpViewController.swift
│   │
│   ├── Main Features
│   │   ├── EqualizerViewController.swift
│   │   ├── RecorderViewController.swift
│   │   ├── NoiseMeterViewController.swift
│   │   └── EqualizerTabBarController.swift
│   │
│   └── Base
│       └── GeneralUIViewController.swift
│
├── Custom UI Components
│   ├── GeneralUIButton.swift
│   ├── GeneralUILabel.swift
│   ├── GeneralUITextField.swift
│   ├── CustomUITextField.swift
│   ├── GeneralUITableView.swift
│   ├── GeneralUITableViewCell.swift
│   ├── EqualizerTableViewCell.swift
│   └── SignUpTableViewCell.swift
│
├── UI Extensions
│   ├── GeneralUIColor.swift        # Color palette
│   ├── GerneralFonts.swift         # Typography
│   ├── GeneralUINavigationBar.swift
│   └── GeneralArray.swift
│
├── Data Models
│   ├── User.swift                  # User account model
│   └── RecordedAudioObject.swift   # Audio file metadata
│
├── Storyboards
│   └── Base.lproj/
│       ├── Main.storyboard         # App UI layout
│       └── LaunchScreen.storyboard # Launch screen
│
└── Configuration
    └── GoogleService-Info.plist    # Firebase configuration
</code></pre><h3 id="documentation-structure">Documentation Structure</h3><pre class="codehilite"><code>docs/                       # Generated documentation (gh-pages only)
├── index.html             # Documentation homepage
├── Classes/               # Class documentation pages
│   ├── APIManager.html
│   ├── AppDelegate.html
│   ├── User.html
│   └── ...
├── Extensions/            # Extension documentation
│   ├── UIColor.html
│   ├── UIFont.html
│   └── UINavigationBar.html
└── assets/
    └── images/
        └── color-palette.png

.jazzy.yaml                # Documentation generation config
scripts/
└── replace-undocumented.py # Post-process Jazzy HTML output
</code></pre><h2 id="key-architectural-decisions">Key Architectural Decisions</h2><h3 id="1-singleton-pattern-for-managers">1. Singleton Pattern for Managers</h3><p><strong>Decision</strong>: Use singletons for APIManager and Audio
<strong>Rationale</strong>:
- Only one authentication session should exist
- Only one AVAudioSession can be active
- Simplifies access from any view controller
- Prevents resource conflicts</p><h3 id="2-notification-based-navigation">2. Notification-Based Navigation</h3><p><strong>Decision</strong>: Use NotificationCenter for root view controller switching
<strong>Rationale</strong>:
- Decouples authentication logic from view hierarchy
- AppDelegate can respond to auth state changes globally
- Avoids complex navigation dependencies</p><h3 id="3-custom-ui-component-system">3. Custom UI Component System</h3><p><strong>Decision</strong>: Create GeneralUI<em> wrapper components
</em><em>Rationale</em>*:
- Ensures consistent theming across entire app
- Centralizes styling logic
- Easy to update design system-wide
- Follows iOS design patterns with added customization</p><h3 id="4-extension-based-theming">4. Extension-Based Theming</h3><p><strong>Decision</strong>: Use Swift extensions for colors and fonts
<strong>Rationale</strong>:
- Type-safe color/font references
- Autocomplete support in Xcode
- Semantic naming (e.g., <code>UIColor.BACKGROUND</code> vs hex codes)
- Single source of truth for design tokens</p><h3 id="5-firebase-for-backend">5. Firebase for Backend</h3><p><strong>Decision</strong>: Use Firebase for auth and data storage
<strong>Rationale</strong>:
- Real-time sync for EQ settings across devices
- Built-in authentication with social providers
- No custom backend infrastructure needed
- Suitable for MVP/prototype phase</p><h3 id="6-dual-channel-equalizer-architecture">6. Dual-Channel Equalizer Architecture</h3><p><strong>Decision</strong>: Separate EQ processing for left/right channels
<strong>Rationale</strong>:
- True stereo processing capability
- Industry-standard approach
- Enables advanced panning effects
- 28 float values (14 bands × 2 channels) stored per user</p><h2 id="future-architectural-considerations">Future Architectural Considerations</h2><h3 id="scalability">Scalability</h3><ul>
<li>Current Firebase architecture suitable for small-medium user base</li>
<li>Consider migration to custom backend for large scale</li>
<li>Potential for caching layer for EQ presets</li>
</ul><h3 id="code-organization">Code Organization</h3><ul>
<li>Consider MVVM or VIPER for better testability</li>
<li>Extract business logic from view controllers</li>
<li>Separate networking layer from APIManager</li>
</ul><h3 id="testing">Testing</h3><ul>
<li>Unit tests for business logic (APIManager, Audio processing)</li>
<li>UI tests for critical user flows</li>
<li>Mock Firebase for testing</li>
</ul><h3 id="performance">Performance</h3><ul>
<li>Audio processing is real-time optimized</li>
<li>Consider lazy loading for large user datasets</li>
<li>Profile and optimize AVAudioEngine node graph</li>
</ul><hr/><p><strong>Last Updated</strong>: November 2025
<strong>Author</strong>: Kevin Rajan
<strong>Documentation</strong>: https://kvnloo.github.io/AudioEngine</p></div>
</section>
</article>
</div>
<section class="footer">
<p>© 2025 <a class="link" href="https://github.com/kvnloo" rel="external" target="_blank">Kevin</a>. All rights reserved. (Last updated: 2017-06-06)</p>
<p>Generated by <a class="link" href="https://github.com/realm/jazzy" rel="external" target="_blank">jazzy ♪♫ v0.8.2</a>, a <a class="link" href="http://realm.io" rel="external" target="_blank">Realm</a> project.</p>
</section>
</body>
</html>
